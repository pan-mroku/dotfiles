#!/bin/bash

AskYN()
{
		while [ true ]; do 
				read -p "$1" -n 1 yn
				case $yn in
						[yY])
								return 0
								break
								;;
						[nN])
								return 1
								break
								;;
						*)
								echo;;
				esac
		done
}

for FILE in `git s|grep "^ .*\|^??.*"|sed 's|^...||'`; do
		printf '%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' -
		git	diffw "`pwd`/$FILE"
		if AskYN "$FILE: Add to commit? [y/n]" ; then
				git add "$FILE"
				echo
		fi
done
